// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
  output   = "../src/shared/generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id            String  @id @default(uuid())
  telegramId    BigInt  @unique
  username      String?
  firstName     String?
  lastName      String?
  languageCode  String?
  isBot         Boolean @default(false)
  lastSeenAt    DateTime? @default(now())
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
  settings      UserSettings?
  subscriptions UserSubscription[]
}

model UserSettings {
  userId    String  @unique
  user      User    @relation(fields: [userId], references: [id])
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model UserSubscription {
  id          String    @id @default(uuid())
  userId      String
  user        User      @relation(fields: [userId], references: [id])
  categoryId  String
  category    JobCategory @relation(fields: [categoryId], references: [id])
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
}

model JobCategory {
  id              String   @id @default(uuid())
  name            String
  slug            String   @unique
  url             String
  rssUrl          String
  isActive        Boolean @default(true)
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
  jobs            Job[]
  subscriptions   UserSubscription[]
}

model Location {
  id        String   @id @default(uuid())
  name      String
  slug      String   @unique
  isActive  Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Company {
  id        String   @id @default(uuid())
  slug      String   @unique
  name      String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  jobs      Job[]
}

model Job {
  id          String      @id @default(uuid())
  douId       Int         @unique
  title       String
  url         String
  companyId   String
  company     Company     @relation(fields: [companyId], references: [id])
  categoryId  String
  category    JobCategory @relation(fields: [categoryId], references: [id])
  description String      @db.Text
  publishedAt DateTime
  closedAt    DateTime?
  createdAt   DateTime    @default(now())
  updatedAt   DateTime    @updatedAt

  @@index([companyId])
  @@index([categoryId])
  @@index([publishedAt])
}

// EXPORT JSON
// {
//     "title": "Senior Frontend (React) Develoepr",
//     "link": "https://jobs.dou.ua/companies/finsight-group-inc/vacancies/328133/",
//     "location": "Київ, віддалено",
//     "salary": "",
//     "category": "Front End",
//     "date": "2025-10-10T15:04:43",
//     "description": "<p><strong>The Role:</strong></p>\r\n<p>We have been developing products for Wall Street for the last 12 years. We grow gradually, and our products help attract more than $30 billion of financing every month.</p>\r\n<p>Our clients: J.P.Morgan, Goldman Sachs, Dell, Ford, Tesla, and others.</p>\r\n<p>The head office is in NY. The development offices are in Kyiv, NY and Tel Aviv and consist of 100+ specialists across 10+ products.</p>\r\n<p>We are looking for a <strong>Senior Frontend Developer</strong> to join the team on a full-time basis. You will be a part of a motivated team responsible for implementing new functionality for several of our products.</p>\r\n<p><strong> <br />  <br />Key requirements:</strong></p>\r\n<p>● 7+ years of commercial UI development;</p>\r\n<p>● 5+ years of commercial experience with React.js;</p>\r\n<p>● Deep understanding of component lifecycle methods, React Hooks, React Context API and state management patterns and solutions (e.g. redux, redux-thunk);</p>\r\n<p>● Experience with TypeScript (as an alternative Flow or any typed programming language);</p>\r\n<p>● Understanding of real-time/asynchronous request handling, partial page updates, and WebSockets;</p>\r\n<p>● Knowledge of patterns and best practices related to interaction design, information architecture, functional layout, and working with data;</p>\r\n<p>● High level of responsibility;</p>\r\n<p>● Great attention to detail;</p>\r\n<p>● Collaborative and flexible team player;</p>\r\n<p>● Perfect communication and time management skills;</p>\r\n<p>● Analytical and troubleshooting skills;</p>\r\n<p>● DDD knowledge is highly appreciated;</p>\r\n<p>● English level: <strong>Upper Intermediate</strong> (oral and written communication with colleagues from other offices. Demo, Planning, and other meetings).</p>\r\n<p>● Experience with writing E2E automation.</p>\r\n<p><strong> <br /> <br />Would be a plus:</strong></p>\r\n<p>● Experience with: REST / JSON-RPC APIs, Next.js framework, drag&amp;drop, Big Tables, Cookies, LocalStorage, SessionStorage, SCSS/CSS modules, Docker, Form State Managers (Final Form), dependency injection (e.g. inversify, constitute), video conference(e.g. zoom/videosdk, twilio-video, WebRTC), monorepo (e.g. turborepo).</p>\r\n<p><strong> <br /> <br />Key responsibilities:</strong></p>\r\n<p>● Write high quality, maintainable Javascript code;</p>\r\n<p>● Take full responsibility and drive optimization/refactoring projects targeting branding and scaling, performance, quality, development speed improvements for the aforementioned SPAs;</p>\r\n<p>● Collaborate with Architectural Team to develop the best approaches to create new and maintain old functionality;</p>\r\n<p>● Research and evaluate technical options to implement business requirements;</p>\r\n<p>● Analyze and estimate implementation efforts;</p>\r\n<p>● Implementation of new functionality and support of existing code</p>\r\n<p>● Write and maintain E2E test automation.</p>\r\n<p><strong> <br />  <br />We offer besides competitive salary:</strong></p>\r\n<p>● Friendly and mature team</p>\r\n<p>● Flexible working hours (you can start work from 8 till 12, depending on your daily meeting);</p>\r\n<p>● Remote work, with the ability to return to the Kyiv office when it’ll be possible;</p>\r\n<p>● Office in the city center - business center Panorama near the Landscape Alley, 10 minutes from Golden Gate metro station;</p>\r\n<p>● The informal style of leadership and communication, skilled management;</p>\r\n<p>● Work in an Agile environment;</p>\r\n<p>● Participation in seminars, trainings, and conferences;</p>\r\n<p>● English lessons online and the possibility to use English at work;</p>\r\n<p>● Team buildings and other activities;</p>\r\n<p>● Yearly salary review;</p>\r\n<p>● Paid vacation, paid sick leave;</p>\r\n<p>● Corporate medical insurance programs from the start date;</p>\r\n<p>● PE accounting and support;</p>\r\n<p>● Referral program.</p>\r\n<p><strong> <br /> <br /></strong></p>\r\n<p><strong>About Finsight:</strong></p>\r\n<p>Finsight Group Inc. is a New York City-based product company that offers a highly accessible, cost-effective, and frictionless environment to research, prospect, structure, market, and monitor new issue and secondary market securities.</p>\r\n<p>We are a friendly, close-knit team of motivated and open-minded individuals committed to personal development, solving real problems, and delivering excellent products and services to our clients.</p>\r\n<p>We develop four leading platforms in US Fixed Income. Every month, over $30 billion of financing is exclusively marketed through our software across all major Wall Street banks and hundreds of the largest corporations in the world.</p>\r\n<p> <br />Our products:</p>\r\n<ul>\r\n<li><a href=\"https://creditflowresearch.com/\"><strong>CreditFlow</strong></a> — a new issue deal database and search engine for global fixed income securities across ABS, IG and HY corporates.</li>\r\n<li>DataRooms (<a href=\"https://dealvdr.com/\">dealvdr.com</a>, <a href=\"https://17g5.com/\">17g5.com</a>, <a href=\"https://investorset.com/\">investorset.com</a>, <a href=\"https://verisend.com/\">verisend.com</a>, <a href=\"https://researchroom.com/\">researchroom.com</a>) — an electronic data room used to share up to tens of thousands of files with counterparties, streamlining compliance with SEC Rule 17g5, and serving as a document library for corporates to streamline investor access to deal documentation and periodic reporting. Includes verbose user permissions.</li>\r\n<li><a href=\"https://dealroadshow.finsight.com/\"><strong>Deal Roadshow</strong></a> — an electronic roadshow platform used to market deal and non-deal roadshows for equity, debt, municipal, and private placement offerings.</li>\r\n<li><a href=\"https://evercall.com/\"><strong>Evercall</strong></a> — an operator-assisted conference call service that specializes in capital markets and corporate finance events.</li>\r\n<li><a href=\"https://allocate.finsight.com/\"><strong>Allocate</strong></a> — a powerful archive and visualization solution for final allocations of a new issue book-building process.</li>\r\n<li><a href=\"https://capedge.com/\"><strong>CapEdge</strong></a> — a database and search engine for SEC (EDGAR) filings and earnings transcripts</li>\r\n<li><strong>T-Rex</strong> — a powerful platform with software and data services for structured finance and private credit.</li>\r\n</ul>\r\n<p><!-- notionvc: 065bafee-fa4f-43cb-8e31-0e08eabf7d26 --></p>"
// }

// RSS
// {
//     "guid": "https://jobs.dou.ua/companies/finsight-group-inc/vacancies/328133/?1760097883",
//     "url": "https://jobs.dou.ua/companies/finsight-group-inc/vacancies/328133/?utm_source=jobsrss",
//     "title": "Senior Frontend (React) Develoepr в ​Finsight Group Inc., Київ, віддалено",
//     "content_html": "<p><strong>The Role:</strong></p><p>We have been developing products for Wall Street for the last 12 years. We grow gradually, and our products help attract more than $30 billion of financing every month.</p><p>Our clients: J.P.Morgan, Goldman Sachs, Dell, Ford, Tesla, and others.</p><p>The head office is in NY. The development offices are in Kyiv, NY and Tel Aviv and consist of 100+ specialists across 10+ products.</p><p>We are looking for a <strong>Senior Frontend Developer</strong> to join the team on a full-time basis. You will be a part of a motivated team responsible for implementing new functionality for several of our products.</p><p><strong> <br> <br>Key requirements:</strong></p><p>● 7+ years of commercial UI development;</p><p>● 5+ years of commercial experience with React.js;</p><p>● Deep understanding of component lifecycle methods, React Hooks, React Context API and state management patterns and solutions (e.g. redux, redux-thunk);</p><p>● Experience with TypeScript (as an alternative Flow or any typed programming language);</p><p>● Understanding of real-time/asynchronous request handling, partial page updates, and WebSockets;</p><p>● Knowledge of patterns and best practices related to interaction design, information architecture, functional layout, and working with data;</p><p>● High level of responsibility;</p><p>● Great attention to detail;</p><p>● Collaborative and flexible team player;</p><p>● Perfect communication and time management skills;</p><p>● Analytical and troubleshooting skills;</p><p>● DDD knowledge is highly appreciated;</p><p>● English level: <strong>Upper Intermediate</strong> (oral and written communication with colleagues from other offices. Demo, Planning, and other meetings).</p><p>● Experience with writing E2E automation.</p><p><strong> <br> <br>Would be a plus:</strong></p><p>● Experience with: REST / JSON-RPC APIs, Next.js framework, drag&amp;drop, Big Tables, Cookies, LocalStorage, SessionStorage, SCSS/CSS modules, Docker, Form State Managers (Final Form), dependency injection (e.g. inversify, constitute), video conference(e.g. zoom/videosdk, twilio-video, WebRTC), monorepo (e.g. turborepo).</p><p><strong> <br> <br>Key responsibilities:</strong></p><p>● Write high quality, maintainable Javascript code;</p><p>● Take full responsibility and drive optimization/refactoring projects targeting branding and scaling, performance, quality, development speed improvements for the aforementioned SPAs;</p><p>● Collaborate with Architectural Team to develop the best approaches to create new and maintain old functionality;</p><p>● Research and evaluate technical options to implement business requirements;</p><p>● Analyze and estimate implementation efforts;</p><p>● Implementation of new functionality and support of existing code</p><p>● Write and maintain E2E test automation.</p><p><strong> <br> <br>We offer besides competitive salary:</strong></p><p>● Friendly and mature team</p><p>● Flexible working hours (you can start work from 8 till 12, depending on your daily meeting);</p><p>● Remote work, with the ability to return to the Kyiv office when it’ll be possible;</p><p>● Office in the city center — business center Panorama near the Landscape Alley, 10 minutes from Golden Gate metro station;</p><p>● The informal style of leadership and communication, skilled management;</p><p>● Work in an Agile environment;</p><p>● Participation in seminars, trainings, and conferences;</p><p>● English lessons online and the possibility to use English at work;</p><p>● Team buildings and other activities;</p><p>● Yearly salary review;</p><p>● Paid vacation, paid sick leave;</p><p>● Corporate medical insurance programs from the start date;</p><p>● PE accounting and support;</p><p>● Referral program.</p><p><strong> <br> <br></strong></p><p><strong>About Finsight:</strong></p><p>Finsight Group Inc. is a New York City-based product company that offers a highly accessible, cost-effective, and frictionless environment to research, prospect, structure, market, and monitor new issue and secondary market securities.</p><p>We are a friendly, close-knit team of motivated and open-minded individuals committed to personal development, solving real problems, and delivering excellent products and services to our clients.</p><p>We develop four leading platforms in US Fixed Income. Every month, over $30 billion of financing is exclusively marketed through our software across all major Wall Street banks and hundreds of the largest corporations in the world.</p><p> <br>Our products:</p><ul><li><a href=\"https://creditflowresearch.com/\" target=\"_blank\"><strong>CreditFlow</strong></a> — a new issue deal database and search engine for global fixed income securities across ABS, IG and HY corporates.</li><li>DataRooms (<a href=\"https://dealvdr.com/\" target=\"_blank\">dealvdr.com</a>, <a href=\"https://17g5.com/\" target=\"_blank\">17g5.com</a>, <a href=\"https://investorset.com/\" target=\"_blank\">investorset.com</a>, <a href=\"https://verisend.com/\" target=\"_blank\">verisend.com</a>, <a href=\"https://researchroom.com/\" target=\"_blank\">researchroom.com</a>) — an electronic data room used to share up to tens of thousands of files with counterparties, streamlining compliance with SEC Rule 17g5, and serving as a document library for corporates to streamline investor access to deal documentation and periodic reporting. Includes verbose user permissions.</li><li><a href=\"https://dealroadshow.finsight.com/\" target=\"_blank\"><strong>Deal Roadshow</strong></a> — an electronic roadshow platform used to market deal and non-deal roadshows for equity, debt, municipal, and private placement offerings.</li><li><a href=\"https://evercall.com/\" target=\"_blank\"><strong>Evercall</strong></a> — an operator-assisted conference call service that specializes in capital markets and corporate finance events.</li><li><a href=\"https://allocate.finsight.com/\" target=\"_blank\"><strong>Allocate</strong></a> — a powerful archive and visualization solution for final allocations of a new issue book-building process.</li><li><a href=\"https://capedge.com/\" target=\"_blank\"><strong>CapEdge</strong></a> — a database and search engine for SEC (EDGAR) filings and earnings transcripts</li><li><strong>T-Rex</strong> — a powerful platform with software and data services for structured finance and private credit.</li></ul>\n\n\n\n\n\n<div>\n\t<a href=\"https://jobs.dou.ua/companies/finsight-group-inc/vacancies/328133/#reply-btn-id\">Відгукнутись на вакансію</a>\n</div>",
//     "summary": "<p><strong>The Role:</strong></p><p>We have been developing products for Wall Street for the last 12 years. We grow gradually, and our products help attract more than $30 billion of financing every month.</p><p>Our clients: J.P.Morgan, Goldman Sachs, Dell, Ford, Tesla, and others.</p><p>The head office is in NY. The development offices are in Kyiv, NY and Tel Aviv and consist of 100+ specialists across 10+ products.</p><p>We are looking for a <strong>Senior Frontend Developer</strong> to join the team on a full-time basis. You will be a part of a motivated team responsible for implementing new functionality for several of our products.</p><p><strong> <br> <br>Key requirements:</strong></p><p>● 7+ years of commercial UI development;</p><p>● 5+ years of commercial experience with React.js;</p><p>● Deep understanding of component lifecycle methods, React Hooks, React Context API and state management patterns and solutions (e.g. redux, redux-thunk);</p><p>● Experience with TypeScript (as an alternative Flow or any typed programming language);</p><p>● Understanding of real-time/asynchronous request handling, partial page updates, and WebSockets;</p><p>● Knowledge of patterns and best practices related to interaction design, information architecture, functional layout, and working with data;</p><p>● High level of responsibility;</p><p>● Great attention to detail;</p><p>● Collaborative and flexible team player;</p><p>● Perfect communication and time management skills;</p><p>● Analytical and troubleshooting skills;</p><p>● DDD knowledge is highly appreciated;</p><p>● English level: <strong>Upper Intermediate</strong> (oral and written communication with colleagues from other offices. Demo, Planning, and other meetings).</p><p>● Experience with writing E2E automation.</p><p><strong> <br> <br>Would be a plus:</strong></p><p>● Experience with: REST / JSON-RPC APIs, Next.js framework, drag&amp;drop, Big Tables, Cookies, LocalStorage, SessionStorage, SCSS/CSS modules, Docker, Form State Managers (Final Form), dependency injection (e.g. inversify, constitute), video conference(e.g. zoom/videosdk, twilio-video, WebRTC), monorepo (e.g. turborepo).</p><p><strong> <br> <br>Key responsibilities:</strong></p><p>● Write high quality, maintainable Javascript code;</p><p>● Take full responsibility and drive optimization/refactoring projects targeting branding and scaling, performance, quality, development speed improvements for the aforementioned SPAs;</p><p>● Collaborate with Architectural Team to develop the best approaches to create new and maintain old functionality;</p><p>● Research and evaluate technical options to implement business requirements;</p><p>● Analyze and estimate implementation efforts;</p><p>● Implementation of new functionality and support of existing code</p><p>● Write and maintain E2E test automation.</p><p><strong> <br> <br>We offer besides competitive salary:</strong></p><p>● Friendly and mature team</p><p>● Flexible working hours (you can start work from 8 till 12, depending on your daily meeting);</p><p>● Remote work, with the ability to return to the Kyiv office when it’ll be possible;</p><p>● Office in the city center — business center Panorama near the Landscape Alley, 10 minutes from Golden Gate metro station;</p><p>● The informal style of leadership and communication, skilled management;</p><p>● Work in an Agile environment;</p><p>● Participation in seminars, trainings, and conferences;</p><p>● English lessons online and the possibility to use English at work;</p><p>● Team buildings and other activities;</p><p>● Yearly salary review;</p><p>● Paid vacation, paid sick leave;</p><p>● Corporate medical insurance programs from the start date;</p><p>● PE accounting and support;</p><p>● Referral program.</p><p><strong> <br> <br></strong></p><p><strong>About Finsight:</strong></p><p>Finsight Group Inc. is a New York City-based product company that offers a highly accessible, cost-effective, and frictionless environment to research, prospect, structure, market, and monitor new issue and secondary market securities.</p><p>We are a friendly, close-knit team of motivated and open-minded individuals committed to personal development, solving real problems, and delivering excellent products and services to our clients.</p><p>We develop four leading platforms in US Fixed Income. Every month, over $30 billion of financing is exclusively marketed through our software across all major Wall Street banks and hundreds of the largest corporations in the world.</p><p> <br>Our products:</p><ul><li><a href=\"https://creditflowresearch.com/\" target=\"_blank\"><strong>CreditFlow</strong></a> — a new issue deal database and search engine for global fixed income securities across ABS, IG and HY corporates.</li><li>DataRooms (<a href=\"https://dealvdr.com/\" target=\"_blank\">dealvdr.com</a>, <a href=\"https://17g5.com/\" target=\"_blank\">17g5.com</a>, <a href=\"https://investorset.com/\" target=\"_blank\">investorset.com</a>, <a href=\"https://verisend.com/\" target=\"_blank\">verisend.com</a>, <a href=\"https://researchroom.com/\" target=\"_blank\">researchroom.com</a>) — an electronic data room used to share up to tens of thousands of files with counterparties, streamlining compliance with SEC Rule 17g5, and serving as a document library for corporates to streamline investor access to deal documentation and periodic reporting. Includes verbose user permissions.</li><li><a href=\"https://dealroadshow.finsight.com/\" target=\"_blank\"><strong>Deal Roadshow</strong></a> — an electronic roadshow platform used to market deal and non-deal roadshows for equity, debt, municipal, and private placement offerings.</li><li><a href=\"https://evercall.com/\" target=\"_blank\"><strong>Evercall</strong></a> — an operator-assisted conference call service that specializes in capital markets and corporate finance events.</li><li><a href=\"https://allocate.finsight.com/\" target=\"_blank\"><strong>Allocate</strong></a> — a powerful archive and visualization solution for final allocations of a new issue book-building process.</li><li><a href=\"https://capedge.com/\" target=\"_blank\"><strong>CapEdge</strong></a> — a database and search engine for SEC (EDGAR) filings and earnings transcripts</li><li><strong>T-Rex</strong> — a powerful platform with software and data services for structured finance and private credit.</li></ul>\n\n\n\n\n\n<div>\n\t<a href=\"https://jobs.dou.ua/companies/finsight-group-inc/vacancies/328133/#reply-btn-id\">Відгукнутись на вакансію</a>\n</div>",
//     "date_published": "2025-10-10T12:04:43.000Z"
// }

